/* Deterministic */

#include <stdio.h>
#include <time.h>
#define start 3990000000
#define stop 4010000000


int main()
{
	clock_t start_t, end_t;																// ����������� ��� clock
	double total_t;

	unsigned short divider,tf;															// �������� ���������� ����� unsigned short
	unsigned int number,square,total=0;													// �������� ���������� ����� unsigned int

	start_t = clock();																	// ������ ��� clock ��� �� ������������ ��� loop��

	for (number=(start+1) ; number<=(stop-1) ; number+=2)								// ������ loop�� ��� number=3990000001 (����� ������� ���� ���������).
	{
		tf=0;																			// tf = TrueFalse, ��������� -�������- ��� ������� ��� ���� "1" �� ���� ���� ��� ���� �������� ��� ����� �� loop�

		if (number%3==0)																// ������� �� ���������� ������ �� �� 3
		{
			tf=1;																		// �� ���������� ������ �� �� 3 ���� �� tf=1 ��� ����� � ��������� ��� ��� � number ��� ����� ������
		}
		else
		{
			divider = 5;																// � �������� ��������� ��� �� ���������� ����� � 5 ����� ��� ���� ����� �� check-������ �� 4 ���� �� ������� ����� ��������
			square = 25;																// square = divider ^ 2, ��� ��������� ��� ��� ������� �� ����������� ���� loop� ��� ������� � �� ������ ��� ����

			while (tf==0 && square<=number)												// � ������� ����� �� �� tf=1 ������ �� ���� ���� �������� � ���� �� square ����� ���������� ��� �� number (������� �� ����)
			{

				if (number%(divider+2)==0)												// ��������� �� � �������� ����� ������
				{
					tf=1;																// �� ����� ���� "�������������" �� ���������-������
				}
				else if (number%(divider)==0)											// ������� � ���� ���������� �� � �������� ��� ����� ������ ���� �� �� �������� �������� ���� 2
				{
					tf=1;																// ������������ ��� ����������-������
				}
				else
				{
					divider += 6;														// � ������ ��� �������� ���� 6 (��� ���� 2 �� ���� �������) ��������� ��� ��� ���������� ��� ���� ������� ��������
					square = divider * divider;											// ������������ �� ��������� ��� ���� �������� ��� �� ����� �� ������������� � ������� ��� loop��
				}

			}
		}

		if (tf==0)																		// �� ��������� ��� � ��������� ������� ��� ���� ����� ��� ���� "1" �������� ��� ��� ������� ������� ���������� ���������
		{
			++total;																	// �� ������ � �������� ������� ���� ��������� �� ������ ��� ������ ���� 1 ������
		}

	}
	end_t = clock();																	// ���� ��� ������������� ��� ������������ (loop��) ���


	total_t = (double)(end_t - start_t) / CLOCKS_PER_SEC;								// ������������ ��� ����� ��������� ��� loop�� ��� (����� - ����) / clocks_per_sec
	printf ("Found %d primes in %f secs\n",total,total_t);								// ��������� �� ����
}
